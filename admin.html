<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Produto</title>
<style>
body { font-family: Arial, sans-serif; padding:20px; background:#f5f5f5; }
.container { max-width:500px; margin:0 auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
img { width:100%; height:auto; border-radius:10px; }
h2 { margin-top:10px; color:#333; }
p { color:#555; margin:5px 0; }

.option-group { margin-top:15px; }
.option-group h3 { margin-bottom:8px; color:#333; font-size:16px; }

.buttons {
  display:flex;
  gap:10px;
}

.option-btn {
  flex:1;
  padding:10px;
  border:1px solid #ccc;
  border-radius:6px;
  background:#f8f8f8;
  cursor:pointer;
  transition:all 0.2s;
}

.option-btn:hover {
  background:#eaeaea;
}

.option-btn.active {
  background:#3483fa;
  color:#fff;
  border-color:#2968c8;
}

button {
  padding:10px 20px;
  font-size:16px;
  border:none;
  border-radius:5px;
  background:#25D366;
  color:#fff;
  cursor:pointer;
  margin-top:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
button:hover { background:#1ebe5b; }
</style>
</head>
<body>

<div class="container" id="productContainer"></div>

<script>
const productContainer = document.getElementById('productContainer');
const product = JSON.parse(localStorage.getItem('selectedProduct'));

if(product){
    const phoneNumber = "SEUNUMERO"; // ← troque pelo seu número
    productContainer.innerHTML = `
        <img src="${product.img}" alt="${product.name}">
        <h2>${product.name}</h2>
        <p><strong>Preço:</strong> ${product.price}</p>
        <p><strong>Descrição:</strong> ${product.description}</p>

        <div class="option-group">
          <h3>Tipo de compra:</h3>
          <div class="buttons" id="tipoCompra">
            <div class="option-btn" data-value="Atacado">Atacado</div>
            <div class="option-btn" data-value="Varejo">Varejo</div>
          </div>
        </div>

        <div class="option-group">
          <h3>Condição do pneu:</h3>
          <div class="buttons" id="condicaoPneu">
            <div class="option-btn" data-value="Novo">Novo</div>
            <div class="option-btn" data-value="Meia vida">Meia vida</div>
          </div>
        </div>

        <button id="whatsappBtn">💬 Falar no WhatsApp</button>
    `;

    // Função para selecionar botões
    function setupSelection(groupId){
      const group = document.getElementById(groupId);
      const buttons = group.querySelectorAll(".option-btn");
      buttons.forEach(btn => {
        btn.addEventListener("click", ()=>{
          buttons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
        });
      });
    }

    setupSelection("tipoCompra");
    setupSelection("condicaoPneu");

    // Evento do botão WhatsApp
    document.getElementById("whatsappBtn").addEventListener("click", ()=>{
      const tipo = document.querySelector("#tipoCompra .active")?.dataset.value || "Não informado";
      const condicao = document.querySelector("#condicaoPneu .active")?.dataset.value || "Não informada";
      const message = `Olá! Tenho interesse no produto ${product.name} (${product.price}). 
Tipo de compra: ${tipo}.
Condição do pneu: ${condicao}. 
Poderia me dar mais informações?`;
      const encodedMessage = encodeURIComponent(message);
      const whatsappLink = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
      window.open(whatsappLink, "_blank");
    });

}else{
    productContainer.innerHTML = "<p>Nenhum produto selecionado.</p>";
}
</script>

</body>
</html>
