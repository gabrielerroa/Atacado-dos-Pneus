<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Atacad√£o Pneus</title>
<style>
  :root {
    --cor-primaria: #007bff;
    --cor-sucesso: #28a745;
    --cor-perigo: #dc3545;
    --cor-fundo: #f4f6f8;
    --cor-card: #fff;
    --sombra: 0 6px 18px rgba(0, 0, 0, 0.06);
  }

  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: var(--cor-fundo);
    margin: 0;
    padding: 20px;
    color: #222;
  }

  .page {
    max-width: 900px;
    margin: auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  .card {
    background: var(--cor-card);
    border-radius: 14px;
    padding: 20px;
    box-shadow: var(--sombra);
    transition: transform 0.2s;
  }

  .card:hover {
    transform: translateY(-3px);
  }

  h1 {
    font-size: 20px;
    margin-bottom: 12px;
    border-left: 5px solid var(--cor-primaria);
    padding-left: 8px;
  }

  label {
    display: block;
    margin-top: 10px;
    font-size: 14px;
    font-weight: 500;
  }

  input[type="text"], input[type="number"], textarea, select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    margin-top: 4px;
    font-size: 14px;
    box-sizing: border-box;
  }

  textarea {
    min-height: 90px;
    resize: vertical;
  }

  .img-preview {
    width: 100%;
    height: 220px;
    background: #f0f0f0;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    margin-top: 8px;
  }

  .img-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .actions {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 16px;
  }

  button {
    border: none;
    padding: 10px 16px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
  }

  .btn-save {
    background: var(--cor-primaria);
    color: #fff;
    box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
  }

  .btn-save:hover {
    background: #0056d1;
  }

  .btn-clear {
    background: #eee;
    color: #333;
  }

  .btn-clear:hover {
    background: #ddd;
  }

  .btn-copy {
    background: #007bff;
    color: #fff;
    width: 100%;
    margin-top: 10px;
    box-shadow: 0 3px 10px rgba(0, 123, 255, 0.25);
  }

  .btn-copy:hover {
    background: #0066d0;
  }

  .btn-copy.copied {
    background: var(--cor-sucesso);
  }

  pre {
    background: #f7f7f7;
    padding: 12px;
    border-radius: 10px;
    font-size: 13px;
    white-space: pre-wrap;
    word-break: break-word;
    margin-top: 12px;
    overflow-x: auto;
  }

  #previewContainer p {
    margin: 4px 0;
    font-size: 14px;
  }

  @media (max-width: 820px) {
    .page {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
  <div class="page">
    <div class="card">
      <h1>Editar Produto</h1>

      <label>Imagem</label>
      <input type="file" id="imageInput" accept="image/*">
      <div class="img-preview" id="imgPreview">Pr√©-visualiza√ß√£o</div>

      <label>Nome</label>
      <input type="text" id="nomeProduto" placeholder="Ex: Pneu Aro 15 195/60R15">

      <label>Descri√ß√£o</label>
      <textarea id="descricaoProduto" placeholder="Descri√ß√£o do produto"></textarea>

      <label>Pre√ßo</label>
      <input type="number" id="precoProduto" placeholder="Ex: 299.90">

      <label>Tipo</label>
      <select id="tipoProduto">
        <option value="Varejo">Varejo</option>
        <option value="Atacado">Atacado</option>
      </select>

      <div class="actions">
        <button class="btn-save" onclick="gerarJSON()">Gerar JSON</button>
        <button class="btn-clear" onclick="limparCampos()">Limpar</button>
      </div>
    </div>

    <div class="card">
      <h1>Pr√©-visualiza√ß√£o</h1>
      <div id="previewContainer"></div>
      <pre id="jsonOutput"></pre>
      <button class="btn-copy" id="copyJsonBtn">üìã Copiar JSON</button>
    </div>
  </div>

  <script>
    function gerarJSON() {
      const nome = document.getElementById('nomeProduto').value || "Sem nome";
      const descricao = document.getElementById('descricaoProduto').value || "Sem descri√ß√£o";
      const preco = document.getElementById('precoProduto').value || "0.00";
      const tipo = document.getElementById('tipoProduto').value;
      const imagemInput = document.getElementById('imageInput');
      let imagemURL = "";

      if (imagemInput.files && imagemInput.files[0]) {
        imagemURL = URL.createObjectURL(imagemInput.files[0]);
        document.getElementById('imgPreview').innerHTML = `<img src="${imagemURL}">`;
      }

      // condi√ß√£o sempre "Meia Vida"
      const produto = {
        nome,
        descricao,
        preco: parseFloat(preco),
        tipo,
        condicao: "Meia Vida",
        imagem: imagemURL || ""
      };

      document.getElementById('jsonOutput').textContent = JSON.stringify(produto, null, 2);

      document.getElementById('previewContainer').innerHTML = `
        <p><strong>Nome:</strong> ${nome}</p>
        <p><strong>Descri√ß√£o:</strong> ${descricao}</p>
        <p><strong>Pre√ßo:</strong> R$ ${preco}</p>
        <p><strong>Tipo:</strong> ${tipo}</p>
        <p><strong>Condi√ß√£o:</strong> Meia Vida</p>
      `;
    }

    function limparCampos() {
      document.getElementById('nomeProduto').value = "";
      document.getElementById('descricaoProduto').value = "";
      document.getElementById('precoProduto').value = "";
      document.getElementById('tipoProduto').value = "Varejo";
      document.getElementById('jsonOutput').textContent = "";
      document.getElementById('previewContainer').innerHTML = "";
      document.getElementById('imgPreview').innerHTML = "Pr√©-visualiza√ß√£o";
    }

    // Bot√£o copiar JSON
    const copyJsonBtn = document.getElementById('copyJsonBtn');
    copyJsonBtn.addEventListener('click', () => {
      const jsonText = document.getElementById('jsonOutput').textContent;
      if (!jsonText.trim()) return;
      navigator.clipboard.writeText(jsonText).then(() => {
        copyJsonBtn.textContent = "‚úÖ Copiado!";
        copyJsonBtn.classList.add("copied");
        setTimeout(() => {
          copyJsonBtn.textContent = "üìã Copiar JSON";
          copyJsonBtn.classList.remove("copied");
        }, 2000);
      });
    });
  </script>
</body>
</html>
