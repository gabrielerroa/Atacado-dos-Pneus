<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Atacad√£o Pneus</title>
<style>
  :root{--card-bg:#fff;--accent:#3483fa;--whatsapp:#25D366}
  body{font-family:Arial, sans-serif;background:#f5f5f5;padding:20px;margin:0;overflow-x:hidden}
  .page{max-width:900px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:20px}
  .card{background:var(--card-bg);padding:18px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
  h1{font-size:20px;margin:0 0 12px;color:#222}
  label{display:block;font-size:13px;color:#333;margin:10px 0 6px}
  input[type="text"], input[type="number"], textarea{
    width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px;box-sizing:border-box;
  }
  textarea{min-height:90px;resize:vertical}
  .option-item{display:flex;align-items:center;gap:10px;margin-top:8px}
  .option-item input[type="text"]{flex:2}
  .option-item input[type="number"]{flex:1}
  .option-item button{background:#ff4d4d;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}
  .option-item button:hover{background:#d93c3c}
  .add-option{background:#eee;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;margin-top:8px}
  .img-preview{width:100%;height:220px;background:#f0f0f0;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .img-preview img{width:100%;height:100%;object-fit:cover;display:block}
  .actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
  button{padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:600}
  .btn-save{background:var(--accent);color:#fff}
  .btn-clear{background:#eee}
  .btn-whatsapp{background:var(--whatsapp);color:#fff;display:inline-flex;align-items:center;gap:8px}
  .small{font-size:12px;color:#666;margin-top:6px}

  /* BLOCO JSON AJUSTADO */
  pre{
    background:#f0f0f0;
    padding:12px;
    border-radius:8px;
    margin-top:12px;
    font-size:13px;
    white-space:pre-wrap;
    word-wrap:break-word;
    overflow-x:auto;
    max-width:100%;
    box-sizing:border-box;
  }

  /* BOT√ÉO COPIAR JSON */
  #copyJsonBtn{
    margin-top:8px;
    background:#3483fa;
    color:#fff;
    border:none;
    border-radius:8px;
    padding:8px 14px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    transition:background 0.2s;
  }
  #copyJsonBtn:hover{background:#2a6cd6}
  #copyJsonBtn.copied{
    background:#2ecc71;
  }

  @media (max-width:820px){
    .page{grid-template-columns:1fr}
  }
</style>
</head>
<body>
  <div class="page">
    <div class="card">
      <h1>Criar Produto</h1>
      <label>Imagem</label>
      <input type="file" id="imageInput" accept="image/*">
      <div class="img-preview" id="imgPreview">Pr√©-visualiza√ß√£o</div>

      <label>Nome</label>
      <input type="text" id="nomeProduto" placeholder="Ex: Pneu Aro 15 195/60R15">

      <label>Descri√ß√£o</label>
      <textarea id="descricaoProduto" placeholder="Descri√ß√£o do produto"></textarea>

      <label>Pre√ßo</label>
      <input type="number" id="precoProduto" placeholder="Ex: 299.90">

      <label>Tipo</label>
      <select id="tipoProduto">
        <option value="Varejo">Varejo</option>
        <option value="Atacado">Atacado</option>
      </select>

      <label>Condi√ß√£o</label>
      <select id="condicaoProduto">
        <option value="Novo">Novo</option>
        <option value="Usado">Usado</option>
      </select>

      <div class="actions">
        <button class="btn-save" onclick="gerarJSON()">Gerar JSON</button>
        <button class="btn-clear" onclick="limparCampos()">Limpar</button>
      </div>
    </div>

    <div class="card">
      <h1>Pr√©-visualiza√ß√£o</h1>
      <div id="previewContainer"></div>
      <pre id="jsonOutput"></pre>
      <button id="copyJsonBtn">üìã Copiar JSON</button>
    </div>
  </div>

  <script>
    function gerarJSON(){
      const nome = document.getElementById('nomeProduto').value || "Sem nome";
      const descricao = document.getElementById('descricaoProduto').value || "Sem descri√ß√£o";
      const preco = document.getElementById('precoProduto').value || "0.00";
      const tipo = document.getElementById('tipoProduto').value;
      const condicao = document.getElementById('condicaoProduto').value;
      const imagemInput = document.getElementById('imageInput');
      let imagemURL = "";

      if(imagemInput.files && imagemInput.files[0]){
        imagemURL = URL.createObjectURL(imagemInput.files[0]);
        document.getElementById('imgPreview').innerHTML = `<img src="${imagemURL}">`;
      }

      const produto = {
        nome: nome,
        descricao: descricao,
        preco: parseFloat(preco),
        tipo: tipo,
        condicao: condicao,
        imagem: imagemURL || ""
      };

      document.getElementById('jsonOutput').textContent = JSON.stringify(produto, null, 2);

      document.getElementById('previewContainer').innerHTML = `
        <p><strong>Nome:</strong> ${nome}</p>
        <p><strong>Descri√ß√£o:</strong> ${descricao}</p>
        <p><strong>Pre√ßo:</strong> R$ ${preco}</p>
        <p><strong>Tipo:</strong> ${tipo}</p>
        <p><strong>Condi√ß√£o:</strong> ${condicao}</p>
      `;
    }

    function limparCampos(){
      document.getElementById('nomeProduto').value = "";
      document.getElementById('descricaoProduto').value = "";
      document.getElementById('precoProduto').value = "";
      document.getElementById('tipoProduto').value = "Varejo";
      document.getElementById('condicaoProduto').value = "Novo";
      document.getElementById('jsonOutput').textContent = "";
      document.getElementById('previewContainer').innerHTML = "";
      document.getElementById('imgPreview').innerHTML = "Pr√©-visualiza√ß√£o";
    }

    // BOT√ÉO COPIAR JSON
    const copyJsonBtn = document.getElementById('copyJsonBtn');
    copyJsonBtn.addEventListener('click', ()=>{
      const jsonText = document.getElementById('jsonOutput').textContent;
      if(!jsonText.trim()) return;
      navigator.clipboard.writeText(jsonText).then(()=>{
        copyJsonBtn.textContent = "‚úÖ Copiado!";
        copyJsonBtn.classList.add("copied");
        setTimeout(()=>{
          copyJsonBtn.textContent = "üìã Copiar JSON";
          copyJsonBtn.classList.remove("copied");
        }, 2000);
      });
    });
  </script>
</body>
</html>
